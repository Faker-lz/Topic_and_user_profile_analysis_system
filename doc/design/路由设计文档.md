# ç³»ç»Ÿé¡µé¢è·¯ç”±åŠå„åŠŸèƒ½æ¥å£æ–‡æ¡£

### è¯é¢˜æ€»è§ˆé¡µ

è·¯ç”±ï¼š`/tag`

* è¯é¢˜ç›¸å…³åšæ–‡æœç´¢æ¥å£ï¼š
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/serach`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key    | description    | require  | example |
    | ------ | -------------- | -------- | ------- |
    | tag    | æœç´¢è¯é¢˜å…³é”®å­—        | æ˜¯        | å´äº¦å‡¡     |
    | cursor | æœç´ è¯é¢˜ç¬¬å‡ é¡µï¼ˆæœ€å¤š50é¡µï¼‰ | å¦ï¼Œé»˜è®¤ä¸ºç¬¬1é¡µ | 1       |
  
  * è¿”å›æ•°æ®æ ¼å¼:
    
    ==**è¿”å›æ•°æ®ä¸ºjsonæ ¼å¼ï¼Œå…¶ä¸­`code`è¡¨ç¤ºçŠ¶æ€ï¼Œcode=0æ—¶è¡¨ç¤ºè¿”å›æ•°æ®æˆåŠŸ(ä¹‹åçš„æ¯ä¸ªæ¥å£è·¯ç”±éƒ½æœ‰æ­¤å­—æ®µï¼Œä¸ä¼šå†èµ˜è¿°)**==
    
    `data`å­—æ®µä¸­çš„ `result` å­—æ®µä¸ºä¸€ä¸ªlç”±å¤šä¸ªdictç»„æˆçš„listï¼Œæ¯ä¸ªdictä»£è¡¨ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯ä¸ªå…ƒç´ (dict)çš„æ ¼å¼å¦‚ä¸‹ï¼š(æ¯ä¸ªå­—æ®µé»˜è®¤å€¼å‡ä¸ºNoneï¼Œè¡¨ç¤ºæœªæå–åˆ°é¡¹è¯¥ä¿¡æ¯)
    
    | key             | description     | value type      | example                                                                                                                                 |
    | --------------- | --------------- | --------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
    | head            | è¯¥æ¡å¾®åšçš„ç”¨æˆ·çš„å¤´åƒurl   | str             | "https://tvax1.sinaimg.cn/crop.0.0.700.700.50/0082iVvEly8gacm42leeaj30jg0jgmyc.jpg?KID=imgbed,tva&Expires=1601179960&ssig=fwRq%2FWyfZS" |
    | weibo_id        | å¾®åšid            | str             | 'Jhv4a7KAd'                                                                                                                             |
    | user_id         | ç”¨æˆ·çš„id           | str             | '6004281123'                                                                                                                            |
    | screen_name     | ç”¨æˆ·å             | str             | '21ä¸–çºªç»æµæŠ¥é“'                                                                                                                              |
    | text            | å¾®åšå†…å®¹            | str             | '#æ–°å† åº·å¤è€…äºŒæ¬¡...'                                                                                                                           |
    | article_url     | å¤´æ¡æ–‡ç« url         | str             | ""                                                                                                                                      |
    | location        | å‘å¸ƒä½ç½®            | str             | ""                                                                                                                                      |
    | at_users        | è‰¾ç‰¹çš„ç”¨æˆ·ï¼Œæ— è‰¾ç‰¹æ—¶ä¸ºç©ºåˆ—è¡¨  | [str, str, ...] | ['æ¢¨è§†é¢‘ä½“è‚²']                                                                                                                               |
    | topics          | è¯é¢˜ï¼Œå¤šä¸ªè¯é¢˜ä¹‹é—´ç”¨','åˆ†éš” | str             | "è¿ªä¸½çƒ­å·´é•¿æ­Œè¡Œ,è¿ªä¸½çƒ­å·´ä½ æ˜¯æˆ‘çš„è£è€€,è¿ªä¸½çƒ­å·´ä¹”æ™¶æ™¶,æ˜Ÿé™…é¢†èˆªå‘˜è¿ªä¸½çƒ­å·´"                                                                                                  |
    | reposts_count   | è½¬å‘æ•°             | str             | '65'                                                                                                                                    |
    | comments_count  | è¯„è®ºæ•°             | str             | '33'                                                                                                                                    |
    | attitudes_count | ç‚¹èµæ•°             | str             | '14'                                                                                                                                    |
    | created_at      | åˆ›å»ºæ—¶é—´            | str             | '2020-08-25 09:12'                                                                                                                      |
    | source          | å‘å¸ƒå·¥å…·            | str             | 'iPhoneå®¢æˆ·ç«¯'                                                                                                                             |
    | pics            | å›¾ç‰‡url           | str             | ''                                                                                                                                      |
    | video_url       | è§†é¢‘url           | str             | ''                                                                                                                                      |
    | retweet         | è½¬å‘çš„å¾®åšç›¸å…³ä¿¡æ¯       | dict            | è§ä¸‹                                                                                                                                      |
    
    + ä¸Šé¢è¡¨æ ¼ä¸­`retweet`å­—æ®µçš„å€¼ï¼š
    
    | key             | description     | value type                             | example                                                                                                                                  |
    | --------------- | --------------- | -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
    | weibo_id        | è½¬å‘å¾®åšçš„id         | str                                    | "E46COzuWT"                                                                                                                              |
    | user_id         | ç”¨æˆ·çš„id           | str                                    | "1669879400"                                                                                                                             |
    | screen_name     | ç”¨æˆ·å             | str                                    | "Dear-è¿ªä¸½çƒ­å·´"                                                                                                                              |
    | text            | å¾®åšå†…å®¹            | str                                    |                                                                                                                                          |
    | article_url     | å¤´æ¡æ–‡ç« çš„url        | str                                    | "..."                                                                                                                                    |
    | location        | å‘å¸ƒä½ç½®ï¼Œç¼ºå¤±æ—¶ä¸ºç©ºå­—ç¬¦ä¸²   | str                                    |                                                                                                                                          |
    | at_users        | è‰¾ç‰¹çš„ç”¨æˆ·åˆ—è¡¨         | list                                   | ["Simple281314", "DILRABAçš„å°å®è´å„¿ç»ä¸æœè¾“", "Dear-è¿ªä¸½çƒ­å·´"]                                                                                        |
    | topics          | è¯é¢˜ï¼Œå¤šä¸ªè¯é¢˜ä¹‹é—´ç”¨','åˆ†éš” | "è¿ªä¸½çƒ­å·´é•¿æ­Œè¡Œ,è¿ªä¸½çƒ­å·´ä½ æ˜¯æˆ‘çš„è£è€€,è¿ªä¸½çƒ­å·´ä¹”æ™¶æ™¶,æ˜Ÿé™…é¢†èˆªå‘˜è¿ªä¸½çƒ­å·´" |                                                                                                                                          |
    | reposts_count   | è½¬å‘æ•°é‡            | str                                    | "0"                                                                                                                                      |
    | comments_count  | è¯„è®ºæ•°é‡            | str                                    | "0"                                                                                                                                      |
    | attitudes_count | ç‚¹èµæ•°é‡            | str                                    | "0"                                                                                                                                      |
    | created_at      | åˆ›å»ºæ—¶é—´            | str                                    | "2016-08-18 11:36"                                                                                                                       |
    | source          | æ¥æº              | str                                    | "iPhone 6s Plus"                                                                                                                         |
    | pics            | å›¾ç‰‡              | list                                   | ["http://ww1.sinaimg.cn/large/63885668gw1f6xqh1wufxj21e00xc7wh.jpg", "http://ww2.sinaimg.cn/large/63885668gw1f6xqh598t3j21e00xc7wh.jpg"] |
    | video_url       | è§†é¢‘ï¼Œæ— è§†é¢‘æ—¶ä¸ºç©ºå­—ç¬¦ä¸²    | str                                    | ""                                                                                                                                       |
    
    æ³¨ï¼š
    
    * **==ä»¥ä¸Šå­—æ®µä¸éœ€è¦å…¨éƒ¨å±•ç¤ºåœ¨å‰ç«¯ï¼Œå¤ç”¨ç°æœ‰å±•ç¤ºæ–¹å¼å³å¯==**

* è¯é¢˜ä»»åŠ¡åˆ—è¡¨è·å–æ¥å£ï¼š
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/tag_list`
  
  * è¯·æ±‚å‚æ•°ï¼šæ— 
  
  * è¿”å›æ•°æ®æ ¼å¼ï¼š
    
    `data`å­—æ®µä¸ºä¸€ä¸ªç”±å¤šä¸ªdictç»„æˆçš„list,æ¯ä¸ªå…ƒç´ ï¼ˆdictï¼‰ä¸ºæ·»åŠ åˆ°åˆ†æä»»åŠ¡è¯é¢˜çš„ä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
    
    * è¯é¢˜åˆ†æå®Œæ¯•åï¼š
      
      | key         | description       | value type | example                          |
      | ----------- | ----------------- | ---------- | -------------------------------- |
      | tag_task_id | è¯é¢˜ä»»åŠ¡id            | str        | 81cb20f7d1606bec1f6a1a094973fe33 |
      | tag         | è¯é¢˜åç§°              | str        | å´äº¦å‡¡                              |
      | uesr_count  | è¯¥è¯é¢˜ä¸‹çˆ¬å–åˆ°æ•°æ®ä¸­æ¶‰åŠçš„ç”¨æˆ·æ•°é‡ | int        | 586                              |
      | weibo_cout  | è¯¥è¯é¢˜ä¸‹çˆ¬å–åˆ°çš„å¾®åšæ•°       | int        | 604                              |
      | vital_user  | è¯¥è¯é¢˜é‡Œæœ€é‡è¦çš„ç”¨æˆ·        | dict       | è§ä¸‹                               |
      
      * ä¸Šè¡¨ä¸­vital_userå­—æ®µè¯¦ç»†æè¿°ï¼š
        
        | key             | description | value type | example                                                                                                                                  |
        | --------------- | ----------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
        | user_id         | å¾®åšç”¨æˆ·id      | str        | "1784473157"                                                                                                                             |
        | head            | å¤´åƒé“¾æ¥        | str        | "https://tvax4.sinaimg.cn/crop.0.0.1080.1080.180/6a5ce645ly8gdij7dw130j20u00u00uc.jpg?KID=imgbed,tva&Expires=1629007384&ssig=2rhFurRR6d" |
        | nickname        | æ˜µç§°          | str        | "ä¸­å›½æ–°é—»ç½‘"                                                                                                                                  |
        | birthday        | ç”Ÿæ—¥          | str        | "1999-01-01"                                                                                                                             |
        | verified_reason | è®¤è¯          | str        | "ä¸­å›½æ–°é—»ç½‘æ³•äººå¾®åš"                                                                                                                              |
        | gender          | æ€§åˆ«          | str        | "ç”·"                                                                                                                                      |
        | location        | ä½å€          | str        | "åŒ—äº¬ è¥¿åŸåŒº"                                                                                                                                 |
        | description     | ç®€ä»‹          | str        | "è¿™é‡Œæä¾›ä½ ä¸çŸ¥é“ã€æƒ³çŸ¥é“ã€ä¸èƒ½ä¸çŸ¥é“çš„æ–°é—»ã€‚"                                                                                                                 |
        | education       | å—æ•™è‚²ä¿¡æ¯       | str        | "å¤§å­¦"                                                                                                                                     |
        | work            | å·¥ä½œä¿¡æ¯        | str        | "ä¸­å›½æ–°é—»ç½‘ "                                                                                                                                 |
        | weibo_num       | å¾®åšæ•°é‡        | str        | "171822"                                                                                                                                 |
        | following       | å…³æ³¨æ•°         | str        | "1259"                                                                                                                                   |
        | followers       | ç²‰ä¸æ•°         | str        | "72443750"                                                                                                                               |
        | max_page        | å¾®åšè¯„è®ºæœ€å¤§é¡µæ•°    | int        | 17175                                                                                                                                    |
    
    * è¯é¢˜æœªåˆ†æå®Œæ¯•ï¼š
      
      | key         | description | value type | example                            |
      | ----------- | ----------- | ---------- | ---------------------------------- |
      | tag_task_id | è¯é¢˜ä»»åŠ¡id      | str        | "81cb20f7d1606bec1f6a1a094973fe33" |
      | tag         | è¯é¢˜åç§°        | str        | "å´äº¦å‡¡"                              |
      | status      | ä»»åŠ¡çŠ¶æ€        | str        | "çˆ¬è™«ä»»åŠ¡"                             |
  
  * **æ³¨ï¼šéœ€è¦åˆ¤æ–­åå¯¹æ•°æ®è¿›è¡ŒåŒºåˆ†å±•ç¤º**

* è·å–è¯é¢˜ä¸‹åšæ–‡çƒ­åº¦æ’åï¼ˆå‰åï¼‰æ¥å£ï¼š
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/blog_rank`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key         | description | require | example                            |
    | ----------- | ----------- | ------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | æ˜¯       | "81cb20f7d1606bec1f6a1a094973fe33" |
  
  * è¿”å›æ ¼å¼ï¼š
    
    `data`ä¸­å­—å…¸è¯¦ç»†æ ¼å¼å¦‚ä¸‹ï¼š
    
    | key         | description | value type | example                            |
    | ----------- | ----------- | ---------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | str        | "81cb20f7d1606bec1f6a1a094973fe33" |
    | tag         | è¯é¢˜åç§°        | str        | "å´äº¦å‡¡"                              |
    | data        | çƒ­åº¦å‰åå¾®åš      | list       | è§ä¸‹                                 |
    
    * ä¸Šè¿°`data`å­—æ®µçš„è¯¦ç»†æè¿°ï¼š
      
      | key             | description     | value type | example                                                                                                                                                |
      | --------------- | --------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
      | head            | å‘åšç”¨æˆ·å¤´åƒurl       | str        | "https://tvax4.sinaimg.cn/crop.0.0.400.400.50/006hgATnly8gio4jvwr7rj30b40b4q35.jpg?KID=imgbed,tva&Expires=1629007376&ssig=g48uTkFoML"                  |
      | weibo_id        | å¾®åšidï¼ˆæ¯æ¡å¾®åšçš„å”¯ä¸€æ ‡è¯†ï¼‰ | str        | "KtijfzqaZ"                                                                                                                                            |
      | user_id         | ç”¨æˆ·id            | str        | "5751949769"                                                                                                                                           |
      | screen_name     | ç”¨æˆ·æ˜µç§°            | str        | "æ¯’èˆŒæ‰’å§¨å¤ª"                                                                                                                                                |
      | text            | å¾®åšæ–‡æœ¬            | str        | "æˆ‘å‘ç°éƒ‘çˆ½å´äº¦å‡¡å¼ å“²ç€šéƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼ï¼èµ„æœ¬æ˜¯ä¸æ˜¯ç‰¹åˆ«æ„¿æ„æ‰¾æ²¡æ–‡åŒ–ã€æ²¡å®åŠ›ã€æœ‰é»‘ç‚¹çš„è‰ºäººå½“å·¥å…·å•Šï¼Ÿé‚£æˆ‘åç­‰ä¸‹ä¸€ä¸ªèµ„æœ¬æœ¨å¶è¢«æ›äº†ã€‚æˆ‘è¿˜æƒ³è¯´èµ„æœ¬è¯·åœæ­¢ç»™å¤§ä¼—å–‚ğŸ’©ï¼Œå¶åƒä¸å•å•æ˜¯ä½ èµšé’±çš„å·¥å…·ï¼Œæ›´æ˜¯é’å°‘å¹´å­¦ä¹ çš„æ¦œæ ·ï¼Œæ˜¯å¯ä»¥å¼•å¯¼å½±å“é’å°‘å¹´æ€æƒ³è¡Œä¸ºçš„å…³é”®äººç‰©ï¼Œæ‰€ä»¥èµ„æœ¬æ˜¯æƒ³æ¯æ‰ä¸­å›½çš„ä¸‹ä¸€ä»£æ¯æ‰ä¸­å›½çš„æœªæ¥å—ï¼Ÿ", |
      | article_url     | åšæ–‡url           | str        | ""                                                                                                                                                     |
      | location        | å‘åšä½ç½®            | str        | ""                                                                                                                                                     |
      | at_users        | @çš„ç”¨æˆ·åˆ—è¡¨          | list       | ["Simple281314", "DILRABAçš„å°å®è´å„¿ç»ä¸æœè¾“", "Dear-è¿ªä¸½çƒ­å·´"]                                                                                                      |
      | topics          | è¯é¢˜ï¼Œå¤šä¸ªè¯é¢˜ä¹‹é—´ç”¨','åˆ†éš” | str        | ""                                                                                                                                                     |
      | reposts_count   | è½¬å‘æ•°é‡            | str        | "67"                                                                                                                                                   |
      | comments_count  | è¯„è®ºæ•°é‡            | str        | "713"                                                                                                                                                  |
      | attitudes_count | ç‚¹èµæ•°é‡            | str        | "35452"                                                                                                                                                |
      | created_at      | åˆ›å»ºæ—¶é—´            | str        | "2021-08-13 19:44"                                                                                                                                     |
      | source          | æ¥æº              | str        | "iPhone 6s Plus"                                                                                                                                       |
      | pics            | å›¾ç‰‡              | list       | ["http://ww1.sinaimg.cn/large/63885668gw1f6xqh1wufxj21e00xc7wh.jpg", "http://ww2.sinaimg.cn/large/63885668gw1f6xqh598t3j21e00xc7wh.jpg"]               |
      | video_url       | è§†é¢‘ï¼Œæ— è§†é¢‘æ—¶ä¸ºç©ºå­—ç¬¦ä¸²    | str        | ""                                                                                                                                                     |
      | retweet_id      | è¯„è®ºid            | str        | ""                                                                                                                                                     |
      | hot_count       | çƒ­åº¦              | str        | "37799"                                                                                                                                                |
  
  * **ä»¥ä¸Šè¿”å›åšæ–‡ä¿¡æ¯å­—æ®µä¸éœ€è¦å…¨éƒ¨å±•ç¤ºï¼ŒæŒ‰ç…§åŸå‹é‡ç‚¹å±•ç¤ºåšæ–‡å†…å®¹å’Œçƒ­åº¦å³å¯**

* è¯é¢˜çƒ­åº¦ä¿¡æ¯æ¥å£
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/hot`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key         | description | require | example                            |
    | ----------- | ----------- | ------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | æ˜¯       | "81cb20f7d1606bec1f6a1a094973fe33" |
  
  * è¿”å›æ ¼å¼ï¼š
    
    `data`å­—æ®µå†…å®¹å¦‚ä¸‹ï¼š
    
    | key         | description                            | value type | example                            |
    | ----------- | -------------------------------------- | ---------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id                                 | str        | "81cb20f7d1606bec1f6a1a094973fe33" |
    | tag         | è¯é¢˜åç§°                                   | str        | "å¥¥è¿                                |
    | one_day     | ä¸€å¤©å†…çƒ­åº¦,listå†…åµŒå¥—çš„ç¬¬ä¸€ä¸ªlistä¸ºæ—¥æœŸï¼ŒåµŒå¥—çš„ç¬¬äºŒä¸ªlistä¸ºæ•°æ® | list       | ç•¥                                  |
    | one_month   | ä¸€ä¸ªæœˆå†…çƒ­åº¦,listç»“æ„åŒä¸Š                        | list       | ç•¥                                  |
    | three_month | ä¸‰ä¸ªæœˆå†…çƒ­åº¦,listç»“æ„åŒä¸Š                        | list       | ç•¥                                  |
    
    * ~~ä¸Šè¿°çƒ­åº¦å­—å…¸(one_dayã€one_monthã€three_month)ä¸­ï¼Œ`key`å­—æ®µæœªæ—¶åˆ»èŠ‚ç‚¹ï¼ˆstrï¼‰ï¼Œå¦‚â€œ2021-08-16 09:00:00â€ï¼Œå¯¹åº”çš„`value`å­—æ®µä¸ºçƒ­åº¦æ•°æ®ï¼ˆintï¼‰ï¼Œå¦‚10131~~

* è¯é¢˜è¯äº‘æ¥å£
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/word_cloud`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key         | description | require | example                            |
    | ----------- | ----------- | ------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | æ˜¯       | "81cb20f7d1606bec1f6a1a094973fe33" |
  
  * è¿”å›æ ¼å¼
    
    `data`å­—æ®µå†…å®¹å¦‚ä¸‹ï¼š
    
    | key         | description | value type | example                                                                                                                                                                                                                          |
    | ----------- | ----------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | str        | "81cb20f7d1606bec1f6a1a094973fe33"                                                                                                                                                                                               |
    | data        | è¯äº‘æ•°æ®        | list       | [ {"name": "å¥¥è¿ä¼š",   "value": 1333     },       {"name": "ä¸œäº¬",         "value": 822       },{"name": "å¥¥è¿",         "value": 654       },{"name": "ä¸­å›½",         "value": 388       }, {"name": "è§†é¢‘",         "value": 371       }] |

* ä¼ æ’­å…³ç³»æ•°æ®æ¥å£
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/relation_graph`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key         | description | require | example                            |
    | ----------- | ----------- | ------- | ---------------------------------- |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id      | æ˜¯       | "81cb20f7d1606bec1f6a1a094973fe33" |
  
  * è¿”å›æ ¼å¼ï¼š
    
    `data`å­—æ®µå†…å®¹å¦‚ä¸‹ï¼š
    
    | key         | description                        | value type | example                                                                                                                                                                                                                                                                                                                                                                        |
    | ----------- | ---------------------------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | tag_task_id | è¯é¢˜ä»»åŠ¡id                             | str        | "81cb20f7d1606bec1f6a1a094973fe33"                                                                                                                                                                                                                                                                                                                                             |
    | links_list  | è¿æ¥åˆ—è¡¨(sourceã€targetåˆ†åˆ«è¡¨ç¤ºä¸€æ¡è¾¹çš„èµ·ç‚¹å’Œç»ˆç‚¹èŠ‚ç‚¹) | list       | [       {         "source": "å¤´æ¡æ–°é—»",         "target": "ä¸­å›½æ—¥æŠ¥",         "weight": 8       },       {         "source": "ç”˜æœ›æ˜Ÿ_xx",         "target": "ä¼Šåˆ©",         "weight": 8       },       {         "source": "æ‰€é•¿åˆ«å¼€æªæ˜¯æˆ‘",         "target": "è¿½é£å°‘å¹´åˆ˜å…¨æœ‰",         "weight": 8       },       {         "source": "æ‰€é•¿åˆ«å¼€æªæ˜¯æˆ‘",         "target": "ä¸€éš»ç¾æ±ª",         "weight": 8       }] |
    | nodes_list  | èŠ‚ç‚¹åˆ—è¡¨ï¼ˆcategotyè¡¨ç¤ºç”¨æˆ·ç±»å‹[æ°´å†›ã€æ¨æ‰‹ã€æ™®é€šç”¨æˆ·]ï¼‰   | list       | [       {         "categoty": 0,         "name": "å¤´æ¡æ–°é—»",         "value": 10       },       {         "categoty": 0,         "name": "ä¸œäº¬2020å¹´å¥¥è¿ä¼š",         "value": 10       },       {         "categoty": 0,         "name": "çŒ›ä»”çš„æ‘¸é±¼æ—¥è®°",         "value": 10       },       {         "categoty": 0,         "name": "é•¿è§è¯†bot",         "value": 10       }]                   |
  
  æ³¨ï¼š
  
  **ä¼ æ’­å…³ç³»æ•°æ®ç»“æ„ç›´æ¥çŒå…¥echartså›¾å³å¯**

* æ·»åŠ è¯é¢˜åˆ°ä»»åŠ¡é˜Ÿåˆ—æ¥å£ï¼š
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/add_task`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key | description | require | example |
    | --- | ----------- | ------- | ------- |
    | tag | æœç´¢è¯é¢˜å…³é”®å­—     | æ˜¯       | å´äº¦å‡¡     |
  
  * è¿”å›æ ¼å¼ï¼š
    
    `data`å­—æ®µå†…å®¹å¦‚ä¸‹ï¼š
    
    | key                    | description  | value type | example                                |
    | ---------------------- | ------------ | ---------- | -------------------------------------- |
    | tag_task_id            | è¯é¢˜ä»»åŠ¡id       | str        | "81cb20f7d1606bec1f6a1a094973fe33"     |
    | tag                    | è¯é¢˜åç§°         | str        | "å´äº¦å‡¡"                                  |
    | tag_celery_task_id     | ä»»åŠ¡çš„celery id | str        | "550ba325-f523-4a64-8d94-f40b7ea9a82e" |
    | tag_word_cloud_task_id | è¯äº‘ä»»åŠ¡id       | str        | â€¦â€¦                                     |
    | tag_hot_task_id        | è¯é¢˜çƒ­åº¦ä»»åŠ¡id     | str        | â€¦â€¦                                     |
    | tag_introduce_task_id  | è¯é¢˜ç®€ä»‹ä»»åŠ¡id     | str        | â€¦â€¦                                     |
    | tag_character_task_id  | äººç‰©åˆ†ç±»ä»»åŠ¡id     | str        | â€¦â€¦                                     |
    | tag_relation_task_id   | è¯é¢˜ä¼ æ’­å…³ç³»ä»»åŠ¡id   | str        | â€¦â€¦                                     |
    | tag_evolve_task_id     | è¯é¢˜æ¼”å˜ä»»åŠ¡id     | str        | â€¦â€¦                                     |
    | tag_weibo_task_id      | è¯é¢˜è¯„è®ºä»»åŠ¡id     | str        | â€¦â€¦                                     |
    | status                 | è¯é¢˜ä»»åŠ¡çŠ¶æ€       | str        | "PENDING"                              |
    | tag_create_time        | è¯é¢˜åˆ›å»ºæ—¶é—´       | str        | "2021-08-16 12:13:42.820558"           |

* åˆ é™¤è¯é¢˜ä»»åŠ¡æ¥å£
  
  * æ¥å£è·¯ç”±ï¼š`/api/tag/delete_task`
  
  * è¯·æ±‚å‚æ•°ï¼š
    
    | key | description | require | example |
    | --- | ----------- | ------- | ------- |
    | tag | æœç´¢è¯é¢˜å…³é”®å­—     | æ˜¯       | å´äº¦å‡¡     |
  
  * è¿”å›æ ¼å¼ï¼š
    
    åˆ é™¤æˆåŠŸå`data`å­—æ®µå†…å®¹ä¸º"success"

### è¯é¢˜è½¬å‘åˆ†æé¡µ

è·¯ç”±ï¼š`/reweet`

* è¯¥é¡µé¢ä¸‹æ¥å£çš„ç»Ÿä¸€è¯·æ±‚å‚æ•°
  
  | key         | description | require | example                            |
  | ----------- | ----------- | ------- | ---------------------------------- |
  | tag_task_id | è¯é¢˜ä»»åŠ¡id      | æ˜¯       | "81cb20f7d1606bec1f6a1a094973fe33" |

* å„æ¥å£è¿”å›æ•°æ®æ ¼å¼
  
  * äººç‰©åˆ†ç±»åˆ—è¡¨æ¥å£
    
    * æ¥å£è·¯ç”±:`/api/tag/reweet/character_category`
    
    * è¿”å›æ•°æ®:
      
      | key           | description                                | value type | example                                                        |
      | ------------- | ------------------------------------------ | ---------- | -------------------------------------------------------------- |
      | tag_task_id   | è¯é¢˜ä»»åŠ¡id                                     | str        | "81cb20f7d1606bec1f6a1a094973fe33"                             |
      | category_list | äººç‰©åˆ†ç±»åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ ä¸­ï¼Œcategoryå­—æ®µä¸º0è¡¨ç¤ºé¢„æµ‹ä¸ºéæ°´å†›ï¼Œ1è¡¨ç¤ºé¢„æµ‹ä¸ºæ°´å†› | list       | [{'name':"ä¹è§†è§†é¢‘", 'category': 0},{'name':'åˆšåˆš', 'category': 1} ] |
      
      **æ³¨ï¼šç›®å‰ä¸è¿›è¡Œæ¨æ‰‹é¢„æµ‹ä¸å±•ç¤º**
  
  * è½¬å‘å…³ç³»å›¾æ¥å£
    
    * æ¥å£è·¯ç”±:`/api/tag/reweet/relation_graph`
    
    * è¿”å›æ•°æ®:
      
      | key         | description                        | value type | example                                                                                                                                                                                                                                                                                                                                                                        |
      | ----------- | ---------------------------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
      | tag_task_id | è¯é¢˜ä»»åŠ¡id                             | str        | "81cb20f7d1606bec1f6a1a094973fe33"                                                                                                                                                                                                                                                                                                                                             |
      | links_list  | è¿æ¥åˆ—è¡¨(sourceã€targetåˆ†åˆ«è¡¨ç¤ºä¸€æ¡è¾¹çš„èµ·ç‚¹å’Œç»ˆç‚¹èŠ‚ç‚¹) | list       | [       {         "source": "å¤´æ¡æ–°é—»",         "target": "ä¸­å›½æ—¥æŠ¥",         "weight": 8       },       {         "source": "ç”˜æœ›æ˜Ÿ_xx",         "target": "ä¼Šåˆ©",         "weight": 8       },       {         "source": "æ‰€é•¿åˆ«å¼€æªæ˜¯æˆ‘",         "target": "è¿½é£å°‘å¹´åˆ˜å…¨æœ‰",         "weight": 8       },       {         "source": "æ‰€é•¿åˆ«å¼€æªæ˜¯æˆ‘",         "target": "ä¸€éš»ç¾æ±ª",         "weight": 8       }] |
      | nodes_list  | èŠ‚ç‚¹åˆ—è¡¨ï¼ˆcategotyè¡¨ç¤ºç”¨æˆ·ç±»å‹[æ°´å†›ã€æ¨æ‰‹ã€æ™®é€šç”¨æˆ·]ï¼‰   | list       | [       {         "categoty": 0,         "name": "å¤´æ¡æ–°é—»",         "value": 10       },       {         "categoty": 0,         "name": "ä¸œäº¬2020å¹´å¥¥è¿ä¼š",         "value": 10       },       {         "categoty": 0,         "name": "çŒ›ä»”çš„æ‘¸é±¼æ—¥è®°",         "value": 10       },       {         "categoty": 0,         "name": "é•¿è§è¯†bot",         "value": 10       }]                   |

### è¯é¢˜æ¼”å˜åˆ†æé¡µ

è·¯ç”±ï¼š`/evolve`

### åšæ–‡è¯„è®ºåˆ†æé¡µ

è·¯ç”±ï¼š`/comment`

* **è¯¥é¡µé¢ä¸‹æ‰€æœ‰æ¥å£çš„è¯·æ±‚å‚æ•°**
  
  | key         | description | type | require | example                            |
  | ----------- | ----------- | ---- | ------- | ---------------------------------- |
  | tag_task_id | è¯é¢˜ä»»åŠ¡id      | str  | æ˜¯       | â€˜81cb20f7d1606bec1f6a1a094973fe33â€™ |
  | weibo_id    | å¾®åšid        | str  | æ˜¯       | â€˜KukLkmL4iâ€™                        |

* å„æ¥å£è¿”å›æ•°æ®æ ¼å¼
  
  * æ–‡ç« è¯¦ç»†ä¿¡æ¯æ¥å£
    
    * æ¥å£è·¯ç”±:`/api/tag/comment/post_detail`
    
    * è¿”å›æ•°æ®æ ¼å¼:
      
      | key             | description     | value type | example                                                                                                                                                |
      | --------------- | --------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
      | head            | å‘åšç”¨æˆ·å¤´åƒurl       | str        | "https://tvax4.sinaimg.cn/crop.0.0.400.400.50/006hgATnly8gio4jvwr7rj30b40b4q35.jpg?KID=imgbed,tva&Expires=1629007376&ssig=g48uTkFoML"                  |
      | weibo_id        | å¾®åšidï¼ˆæ¯æ¡å¾®åšçš„å”¯ä¸€æ ‡è¯†ï¼‰ | str        | "KtijfzqaZ"                                                                                                                                            |
      | user_id         | ç”¨æˆ·id            | str        | "5751949769"                                                                                                                                           |
      | screen_name     | ç”¨æˆ·æ˜µç§°            | str        | "æ¯’èˆŒæ‰’å§¨å¤ª"                                                                                                                                                |
      | text            | å¾®åšæ–‡æœ¬            | str        | "æˆ‘å‘ç°éƒ‘çˆ½å´äº¦å‡¡å¼ å“²ç€šéƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼ï¼èµ„æœ¬æ˜¯ä¸æ˜¯ç‰¹åˆ«æ„¿æ„æ‰¾æ²¡æ–‡åŒ–ã€æ²¡å®åŠ›ã€æœ‰é»‘ç‚¹çš„è‰ºäººå½“å·¥å…·å•Šï¼Ÿé‚£æˆ‘åç­‰ä¸‹ä¸€ä¸ªèµ„æœ¬æœ¨å¶è¢«æ›äº†ã€‚æˆ‘è¿˜æƒ³è¯´èµ„æœ¬è¯·åœæ­¢ç»™å¤§ä¼—å–‚ğŸ’©ï¼Œå¶åƒä¸å•å•æ˜¯ä½ èµšé’±çš„å·¥å…·ï¼Œæ›´æ˜¯é’å°‘å¹´å­¦ä¹ çš„æ¦œæ ·ï¼Œæ˜¯å¯ä»¥å¼•å¯¼å½±å“é’å°‘å¹´æ€æƒ³è¡Œä¸ºçš„å…³é”®äººç‰©ï¼Œæ‰€ä»¥èµ„æœ¬æ˜¯æƒ³æ¯æ‰ä¸­å›½çš„ä¸‹ä¸€ä»£æ¯æ‰ä¸­å›½çš„æœªæ¥å—ï¼Ÿ", |
      | article_url     | åšæ–‡url           | str        | ""                                                                                                                                                     |
      | location        | å‘åšä½ç½®            | str        | ""                                                                                                                                                     |
      | at_users        | @çš„ç”¨æˆ·åˆ—è¡¨          | list       | ["Simple281314", "DILRABAçš„å°å®è´å„¿ç»ä¸æœè¾“", "Dear-è¿ªä¸½çƒ­å·´"]                                                                                                      |
      | topics          | è¯é¢˜ï¼Œå¤šä¸ªè¯é¢˜ä¹‹é—´ç”¨','åˆ†éš” | str        | ""                                                                                                                                                     |
      | reposts_count   | è½¬å‘æ•°é‡            | str        | "67"                                                                                                                                                   |
      | comments_count  | è¯„è®ºæ•°é‡            | str        | "713"                                                                                                                                                  |
      | attitudes_count | ç‚¹èµæ•°é‡            | str        | "35452"                                                                                                                                                |
      | created_at      | åˆ›å»ºæ—¶é—´            | str        | "2021-08-13 19:44"                                                                                                                                     |
      | source          | æ¥æº              | str        | "iPhone 6s Plus"                                                                                                                                       |
      | pics            | å›¾ç‰‡              | list       | ["http://ww1.sinaimg.cn/large/63885668gw1f6xqh1wufxj21e00xc7wh.jpg", "http://ww2.sinaimg.cn/large/63885668gw1f6xqh598t3j21e00xc7wh.jpg"]               |
      | video_url       | è§†é¢‘ï¼Œæ— è§†é¢‘æ—¶ä¸ºç©ºå­—ç¬¦ä¸²    | str        | ""                                                                                                                                                     |
      | retweet_id      | è¯„è®ºid            | str        | ""                                                                                                                                                     |
      | hot_count       | çƒ­åº¦              | str        | "37799"                                                                                                                                                |
  
  * ä¼ æ’­æ ‘æ¥å£
    
    * æ¥å£è·¯ç”±:`/api/tag/comment/tree`
    
    * è¿”å›æ•°æ®æ ¼å¼
      
      | key                 | description | value type | example               |
      | ------------------- | ----------- | ---------- | --------------------- |
      | tag_comment_task_id | è¯„è®ºä»»åŠ¡id      | str        | "1630068209KukLkmL4i" |
      | data                | ä¼ æ’­æ ‘æ•°æ®       | dict       | è§ä¸‹è¡¨                   |
      
      `ä¸Šè¡¨ä¸­dataå­—æ®µ`
      
      | key      | description | value type | example |
      | -------- | ----------- | ---------- | ------- |
      | name     | èŠ‚ç‚¹åç§°(ç”¨æˆ·æ˜µç§°)  | str        | "ä¹è§†è§†é¢‘"  |
      | value    | è¯¥ç”¨æˆ·å‘å¸ƒçš„åšæ–‡    | str        | "â€¦â€¦"    |
      | children | è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨   | list       |         |

* æ–‡ç« çƒ­åº¦å˜åŒ–æ¥å£
  
  * æ¥å£è·¯ç”±:`/api/tag/comment/tendency`
  
  * è¿”å›æ•°æ®æ ¼å¼
    
    | key                 | description | value type | example               |
    | ------------------- | ----------- | ---------- | --------------------- |
    | tag_comment_task_id | è¯„è®ºä»»åŠ¡id      | str        | "1630068209KukLkmL4i" |
    | data                | çƒ­åº¦æ•°æ®        | dict       | è§ä¸‹è¡¨                   |
    
    `ä¸Šè¡¨ä¸­dataå­—æ®µ`
    
    | key        | description | value type | example                      |
    | ---------- | ----------- | ---------- | ---------------------------- |
    | data_time  | æ—¶é—´èŠ‚ç‚¹        | list       | ["2021-08-27" ,"2021-08-28"] |
    | data_count | çƒ­åº¦æ•°æ®        | list       | [138, 159]                   |

* è¯äº‘æ¥å£
  
  * æ¥å£è·¯ç”±:`/api/tag/comment/cloud`
  
  * è¿”å›æ•°æ®æ ¼å¼
    
    | key                 | description                      | value type | example                                                                                     |
    | ------------------- | -------------------------------- | ---------- | ------------------------------------------------------------------------------------------- |
    | tag_comment_task_id | è¯„è®ºä»»åŠ¡id                           | str        | "1630068209KukLkmL4i"                                                                       |
    | data                | è¯äº‘æ•°æ®ï¼Œæ¯ä¸ªå…ƒç´ ç”±nameã€valueç»„æˆï¼Œè¡¨ç¤ºå•è¯å†…å®¹å’Œæƒé‡ | list       | [ {"name": "1em", "value": 28},{ "name": "å“ˆå“ˆå“ˆ","value": 23},{ "name": "span", "value": 14}] |

* èšç±»ç»“æœæ¥å£
  
  * æ¥å£è·¯ç”±:`/api/tag/comment/cluster/type`
  
  * è¿”å›æ•°æ®æ ¼å¼
    
    | key                 | description                                | value type | example                                                                                                                                                                                                                 |
    | ------------------- | ------------------------------------------ | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | tag_comment_task_id | è¯„è®ºä»»åŠ¡id                                     | str        | "1630068209KukLkmL4i"                                                                                                                                                                                                   |
    | data                | è¯äº‘æ•°æ®ï¼Œæ¯ä¸ªå…ƒç´ ç”±å†…å«keyã€doc_countå­—æ®µçš„å­—å…¸ç»„æˆï¼Œè¡¨ç¤ºèšç±»ä¸»é¢˜å’Œæƒé‡ | list       | [{       "key": "ç²¾å‡† ä¸æ´» å¥½æƒ¨",       "doc_count": 45     },{       "key": "ä¸€ç›´ ä¸å† è¿˜æœ‰",       "doc_count": 1     }, {       "key": "è£‚å¼€ ä¸€ç›´ ä¸å†",       "doc_count": 3     },{       "key": "ä¸è¡Œ äº†ç¬‘ å®åœ¨",       "doc_count": 2 }] |

* å…³é”®èŠ‚ç‚¹æ¥å£
  
  * æ¥å£è·¯ç”±:`api/tag/comment/key_node`
  
  * | key                 | description                                              | value type | example                                                                                                                                                                                                                 |
    | ------------------- |:--------------------------------------------------------:| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | tag_comment_task_id | è¯„è®ºä»»åŠ¡id                                                   | str        | "1630068209KukLkmL4i"                                                                                                                                                                                                   |
    | data                | è¯äº‘æ•°æ®ï¼Œæ¯ä¸ªå…ƒç´ ç”±å†…å«nameã€countã€scoreå­—æ®µçš„å­—å…¸ç»„æˆï¼Œè¡¨ç¤ºèŠ‚ç‚¹åå­—ï¼ˆç”¨æˆ·æ˜µç§°ï¼‰ã€å‡ºç°æ¬¡æ•°ã€æƒé‡ | list       | [{       "key": "ç²¾å‡† ä¸æ´» å¥½æƒ¨",       "doc_count": 45     },{       "key": "ä¸€ç›´ ä¸å† è¿˜æœ‰",       "doc_count": 1     }, {       "key": "è£‚å¼€ ä¸€ç›´ ä¸å†",       "doc_count": 3     },{       "key": "ä¸è¡Œ äº†ç¬‘ å®åœ¨",       "doc_count": 2 }] |
